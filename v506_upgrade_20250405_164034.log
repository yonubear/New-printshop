2025-04-05 16:40:34,474 - INFO - ================================================================================
2025-04-05 16:40:34,474 - INFO - PrintShop v5.0.6 Upgrade Tool
2025-04-05 16:40:34,475 - INFO - ================================================================================
2025-04-05 16:40:34,508 - INFO - Environment variables loaded successfully
2025-04-05 16:40:34,508 - INFO - Creating database backup before migration...
2025-04-05 16:40:34,565 - WARNING - Could not create database backup: list index out of range
2025-04-05 16:40:34,565 - WARNING - Continuing without backup - this is not recommended for production systems.
2025-04-05 16:40:34,565 - INFO - Starting database upgrade...
2025-04-05 16:40:34,565 - INFO - Connecting to database...
2025-04-05 16:40:34,832 - INFO - Beginning database transaction...
2025-04-05 16:40:34,833 - INFO - Checking for quote_item_material table...
2025-04-05 16:40:34,922 - INFO - quote_item_material table already exists
2025-04-05 16:40:34,922 - INFO - Checking for quote_id column in order table...
2025-04-05 16:40:34,978 - INFO - quote_id column already exists in order table
2025-04-05 16:40:34,978 - INFO - Checking for n_up column in quote_item table...
2025-04-05 16:40:35,025 - INFO - n_up column already exists in quote_item table
2025-04-05 16:40:35,026 - INFO - Checking for self_cover column in quote_item table...
2025-04-05 16:40:35,071 - INFO - self_cover column already exists in quote_item table
2025-04-05 16:40:35,071 - INFO - Fixing invalid n_up values...
2025-04-05 16:40:35,122 - INFO - Checking for quote items that need material migration...
2025-04-05 16:40:35,170 - INFO - No existing data to migrate
2025-04-05 16:40:35,213 - INFO - Database upgrade completed successfully!
2025-04-05 16:40:35,214 - INFO - Database connection closed.
2025-04-05 16:40:35,214 - INFO - Updating application code files...
2025-04-05 16:40:35,214 - INFO - Creating backup of models.py as models.py.20250405_164035.bak
2025-04-05 16:40:35,215 - INFO - Updated models.py (backup created as models.py.20250405_164035.bak)
2025-04-05 16:40:35,215 - INFO - Creating backup of routes.py as routes.py.20250405_164035.bak
2025-04-05 16:40:35,215 - INFO - Updated routes.py (backup created as routes.py.20250405_164035.bak)
2025-04-05 16:40:35,215 - INFO - Creating backup of pdf_generator.py as pdf_generator.py.20250405_164035.bak
2025-04-05 16:40:35,216 - INFO - Updated pdf_generator.py (backup created as pdf_generator.py.20250405_164035.bak)
2025-04-05 16:40:35,216 - INFO - Code files updated successfully.
2025-04-05 16:40:35,216 - INFO - ================================================================================
2025-04-05 16:40:35,216 - INFO - PrintShop v5.0.6 upgrade completed successfully!
2025-04-05 16:40:35,216 - INFO - Please restart your application for changes to take effect.
2025-04-05 16:40:35,216 - INFO - ================================================================================
